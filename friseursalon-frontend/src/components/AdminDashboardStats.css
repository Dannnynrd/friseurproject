/* src/components/AdminDashboardStats.css - Design-Iteration 13 (Schnellzugriff) */
.admin-dashboard-stats {
    padding: 1rem 0;
    font-family: var(--font-sans);
    background-color: var(--light-bg);
    max-width: 1400px;
    margin-left: auto;
    margin-right: auto;
    box-sizing: border-box;
}

/* --- Allgemeine Box für Sektionen --- */
.stats-section-box {
    background-color: var(--light-bg, #ffffff);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-lg, 12px);
    padding: 1.25rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    margin-bottom: 2rem; /* Standard-Abstand zwischen Boxen */
}


/* --- Filterleiste --- */
.stats-period-filter-bar {
    display: flex; flex-wrap: wrap; align-items: center; gap: 0.75rem;
    margin-bottom: 2rem; padding: 0.75rem; background-color: var(--light-grey-bg);
    border-radius: var(--border-radius-lg, 12px); border: 1px solid var(--border-color-light);
}
.period-buttons { display: flex; flex-wrap: wrap; gap: 0.5rem; }
.period-buttons button { padding: 0.5rem 1rem; font-size: 0.8rem; font-weight: 500; border: 1px solid var(--border-color); background-color: var(--light-bg); color: var(--medium-grey-text); border-radius: var(--border-radius-md, 8px); cursor: pointer; transition: background-color 0.2s, color 0.2s, border-color 0.2s, box-shadow 0.2s; display: inline-flex; align-items: center; gap: 0.3rem; }
.period-buttons button:hover { background-color: #e9e9e9; border-color: var(--medium-grey-text); color: var(--dark-text); }
.period-buttons button.active { background-color: var(--dark-text); color: var(--light-bg); border-color: var(--dark-text); box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
.period-buttons button .svg-inline--fa { font-size: 0.9em; }
.custom-date-pickers { display: flex; flex-wrap: wrap; align-items: center; gap: 0.75rem; margin-left: auto; }
.custom-date-pickers .date-picker-input { padding: 0.5rem 0.75rem; font-size: 0.85rem; border: 1px solid var(--border-color); border-radius: var(--border-radius-md, 8px); max-width: 130px; }
.custom-date-pickers .apply-custom-date { padding: 0.5rem 1rem; }


/* --- Schnellzugriff-Sektion --- */
.quick-access-section {
    /* Nutzt .stats-section-box für Basis-Styling */
}
.stats-section-title.small-title { /* Kleinere Variante für Untersektionen wie Schnellzugriff */
    font-size: 1.2rem;
    margin-bottom: 1rem;
    border-bottom: none; /* Keine Linie für kleinere Titel */
    padding-bottom: 0.25rem;
}
.quick-access-content {
    display: flex;
    flex-direction: column; /* Standard: untereinander */
    gap: 1.5rem;
}
@media (min-width: 768px) { /* Ab Tablet nebeneinander */
    .quick-access-content {
        flex-direction: row;
        align-items: flex-start; /* Oben ausrichten */
        justify-content: space-between;
    }
}

.quick-create-button {
    padding: 0.8rem 1.5rem;
    font-size: 0.9rem;
    font-weight: 600;
    /* Stile für .button-primary sollten global definiert sein, ansonsten hier: */
    /* background-color: var(--primary-color); color: white; border: none; border-radius: var(--border-radius-md); */
    min-width: 220px; /* Mindestbreite für den Button */
    text-align: center;
}
@media (min-width: 768px) {
    .quick-create-button {
        margin-right: 2rem; /* Abstand zum nächsten Widget */
    }
}


.recent-appointments-widget {
    flex-grow: 1; /* Nimmt verfügbaren Platz ein */
    min-width: 250px; /* Mindestbreite für das Widget */
}
.recent-appointments-widget h4 {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--dark-text);
    margin: 0 0 0.75rem 0;
    padding-bottom: 0.4rem;
    border-bottom: 1px solid var(--border-color-light);
}
.compact-appointment-list {
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 180px; /* Begrenzte Höhe mit Scrollbar, falls viele Termine */
    overflow-y: auto;
}
.compact-appointment-list li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0.25rem;
    font-size: 0.8rem;
    border-bottom: 1px solid var(--border-color-extralight, #f7f7f7);
    cursor: pointer;
    transition: background-color 0.2s;
}
.compact-appointment-list li:last-child {
    border-bottom: none;
}
.compact-appointment-list li:hover {
    background-color: var(--light-grey-bg-hover, #f1f1f1);
}
.compact-apt-time {
    color: var(--medium-grey-text);
    min-width: 75px; /* Platz für Datum und Zeit */
    flex-shrink: 0;
}
.compact-apt-service {
    color: var(--dark-text);
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin: 0 0.5rem;
    flex-grow: 1;
}
.compact-apt-customer {
    color: var(--medium-grey-text);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 120px; /* Begrenzt die Breite des Kundennamens */
}
.no-data-small {
    font-size: 0.8rem;
    color: var(--light-grey-text);
    padding: 0.5rem 0;
}


/* --- Globale Sektionsüberschriften --- */
.stats-section-title {
    font-family: var(--font-serif);
    font-size: 1.4rem;
    color: var(--dark-text);
    margin: 0 0 1.5rem 0;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 0.6rem;
}
.stats-section-title > span:first-child { display: flex; align-items: center; gap: 0.6rem; }
.stats-section-title .svg-inline--fa { color: var(--medium-grey-text); font-size: 1.1rem; }
.stats-period-display { font-size: 0.8rem; font-weight: 400; color: var(--medium-grey-text); margin-left: 0.5rem; }

/* --- Lade- und Fehlermeldungen --- */
.loading-indicator-top, .loading-message-stats, .stats-error-message {
    text-align: center; padding: 0.75rem; font-size: 0.85rem; color: var(--medium-grey-text); background-color: var(--light-grey-bg); border: 1px dashed var(--border-color-light); margin-bottom: 1.5rem; border-radius: var(--border-radius-md, 8px); display: flex; align-items: center; justify-content: center; gap: 0.5rem;
}
.loading-message-stats, .stats-error-message { padding: 2rem; margin: 1rem 0; border-radius: var(--border-radius-lg, 12px); border-style: solid; }
.loading-message-stats .svg-inline--fa { font-size: 1.5em; }
.stats-error-message { color: var(--danger-color); background-color: var(--danger-bg-light); border-color: var(--danger-color); }
.stats-error-message .svg-inline--fa { font-size: 1.2em; }
.stats-error-message p { margin-bottom: 0.5rem; }
.stats-error-message pre { background-color: var(--light-bg); border: 1px solid var(--border-color); padding: 0.75rem 1rem; border-radius: var(--border-radius-sm, 4px); font-size: 0.8rem; text-align: left; max-height: 120px; overflow-y: auto; margin-top: 0.75rem; white-space: pre-wrap; word-break: break-all; }


/* --- Haupt-Layout --- */
.stats-main-layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 2.5rem;
}
@media (min-width: 1024px) {
    .stats-main-layout {
        grid-template-columns: minmax(350px, 0.8fr) minmax(450px, 1.2fr);
        align-items: flex-start;
    }
}

/* --- Statistik-Karten (KPIs) --- */
.stats-overview-cards-wrapper {
    /* Nutzt .stats-section-box für Basis-Styling */
    /* Dieser Wrapper enthält jetzt beide KPI-Gruppen */
    display: flex;
    flex-direction: column; /* Haupt- und Sekundär-KPIs untereinander */
    gap: 1.5rem; /* Abstand zwischen den KPI-Gruppen */
}

.stats-overview-cards { /* Allgemeine Klasse für KPI-Grid-Container */
    display: grid;
    gap: 1rem;
}

.stats-overview-cards.primary-kpis {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}
@media (min-width: 768px) {
    .stats-overview-cards.primary-kpis {
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }
    /* Spezifische Regel für genau 3 Haupt-KPIs, um sie nebeneinander zu zwingen */
    .stats-overview-cards.primary-kpis:has(> .stat-card.main-kpi:nth-child(3):last-child) {
        grid-template-columns: repeat(3, 1fr);
    }
}


.stats-overview-cards.secondary-kpis {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
}


.stat-card {
    background-color: var(--light-bg, #ffffff);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-lg, 12px);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    transition: box-shadow 0.25s ease, transform 0.25s ease;
    overflow: hidden; /* Verhindert Überlappung durch Inhalt */
}
.stat-card:hover { box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08); transform: translateY(-3px); }

.stat-card.main-kpi {
    padding: 1.25rem;
    min-height: 130px;
}
.stat-card.main-kpi .stat-value { font-size: 2rem; font-weight: 700; }
.stat-card.main-kpi .stat-label { font-size: 0.8rem; }
.stat-card.main-kpi .stat-icon { font-size: 1.2rem; width: 30px; height: 30px; }

.stat-card.small-kpi {
    min-height: 100px;
    padding: 0.85rem;
}
.stat-card.small-kpi .stat-value { font-size: 1.4rem; }
.stat-card.small-kpi .stat-label { font-size: 0.65rem; }
.stat-card.small-kpi .stat-icon { font-size: 0.9rem; width: 24px; height: 24px; }
.stat-card.small-kpi .stat-comparison { display: none; }

.stat-card.is-loading-skeleton .stat-card-header-skeleton { height: 16px; width: 60%; margin-bottom: 0.6rem; background-color: var(--border-color-light); border-radius: 4px;}
.stat-card.is-loading-skeleton .stat-value-skeleton { height: 28px; width: 50%; margin-top: 0.75rem; background-color: var(--border-color-light); border-radius: 4px;}
.stat-card.is-loading-skeleton .stat-value-skeleton.large { height: 36px; width: 40%; }
.stat-card.is-loading-skeleton .stat-comparison-skeleton { height: 14px; width: 70%; margin-top: 0.5rem; background-color: var(--border-color-light); border-radius: 3px;}

.stat-card-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.4rem; }
.stat-icon { /* Allgemeine Icon-Stile */ }
.stat-icon.today { color: #28a745; background-color: #e2f0e6; }
.stat-icon.week { color: #17a2b8; background-color: #d1ecf1; }
.stat-icon.month { color: #ffc107; background-color: #fff3cd; }
.stat-icon.upcoming { color: #6f42c1; background-color: #e9d8fd; }
.stat-icon.revenue { color: #fd7e14; background-color: #ffe8d6; }
.stat-icon.coins { color: #e83e8c; background-color: #fdd8e7; }

.stat-label { /* Allgemeine Label-Stile */ }
.stat-value { /* Allgemeine Wert-Stile */ }
.stat-comparison { font-size: 0.75rem; font-weight: 500; display: flex; align-items: center; gap: 0.3rem; margin-top: auto; padding-top: 0.25rem; }
.stat-comparison .comparison-data.positive { color: var(--success-color, #28a745); }
.stat-comparison .comparison-data.negative { color: var(--danger-color, #c82333); }
.stat-comparison .comparison-data.neutral { color: var(--medium-grey-text, #5f5f5f); }
.stat-comparison .comparison-data .svg-inline--fa { margin-right: 0.15rem; }
.stat-comparison .comparison-label { color: var(--light-grey-text); font-size: 0.9em; margin-left: 0.2rem; }
.stat-comparison .comparison-data.no-data { color: var(--light-grey-text); font-style: italic; }
.stat-card-no-data { grid-column: 1 / -1; padding: 1.25rem; text-align: center; color: var(--medium-grey-text); font-size: 0.85rem; border: 1px dashed var(--border-color); border-radius: var(--border-radius-md); }


/* --- Chart-Bereich --- */
.charts-section-wrapper { /* Nutzt .stats-section-box für Basis-Styling */ }
.charts-grid { display: grid; gap: 1.5rem; }
@media (min-width: 768px) and (max-width: 1199.98px) { .charts-grid { grid-template-columns: repeat(auto-fit, minmax(min(100%, 320px), 1fr)); } }
@media (min-width: 1200px) { .stats-main-layout:not([style*="grid-template-columns: 1fr"]) .charts-grid { grid-template-columns: 1fr 1fr; } }
.chart-card { background-color: var(--light-bg, #ffffff); border: 1px solid var(--border-color); border-radius: var(--border-radius-lg, 12px); padding: 1.25rem; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); min-height: 340px; display: flex; flex-direction: column; overflow: hidden; }
.chart-title { font-family: var(--font-sans, sans-serif); font-size: 1.1rem; font-weight: 600; color: var(--dark-text, #1f1f1f); margin: 0 0 1rem 0; padding-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
.chart-title .svg-inline--fa { color: var(--medium-grey-text); font-size: 1em; }
.chart-card .chart-canvas-container { flex-grow: 1; position: relative; width: 100%; min-height: 220px; }
.chart-loading-placeholder { display: flex; justify-content: center; align-items: center; height: 100%; min-height: 120px; color: var(--medium-grey-text); }
.chart-loading-placeholder .svg-inline--fa { font-size: 1.3rem; }
.chart-no-data-message { margin: auto; color: var(--medium-grey-text); font-size: 0.85rem; text-align: center; padding: 1.25rem 0; }


/* --- Tägliche Terminliste --- */
.daily-appointments-section { /* Nutzt .stats-section-box für Basis-Styling */ }
.daily-appointments-heading { font-family: var(--font-serif, serif); font-size: 1.3rem; color: var(--dark-text); margin: 0 0 1.25rem 0; padding-bottom: 0.75rem; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 0.6rem; }
.daily-appointments-heading .svg-inline--fa { color: var(--medium-grey-text); font-size: 1.1rem; }
.loading-message-stats.small-list-loader { font-size: 0.85rem; padding: 1rem; color: var(--medium-grey-text); text-align: left; }
.daily-appointments-list { list-style: none; padding: 0; margin: 0; }
.daily-appointment-item { display: flex; align-items: center; justify-content: space-between; padding: 0.75rem 0.4rem; border-bottom: 1px solid var(--border-color-light, #f1f1f1); transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out; cursor: pointer; position: relative; border-radius: var(--border-radius-sm, 4px); margin-bottom: 0.2rem; gap: 0.5rem; }
.daily-appointment-item:last-child { border-bottom: none; margin-bottom: 0;}
.daily-appointment-item:hover, .daily-appointment-item:focus-visible { background-color: var(--light-grey-bg, #f8f8f8); box-shadow: 0 1px 4px rgba(0,0,0,0.04); }
.daily-appointment-item:focus-visible { outline: 2px solid var(--focus-ring-color, #007bff); outline-offset: -1px; }
.item-loader-icon { color: var(--medium-grey-text); margin-right: 0.5rem; font-size: 0.8em; }
.daily-appointment-item .appointment-time { font-weight: 500; color: var(--dark-text); font-size: 0.85rem; min-width: 55px; flex-shrink: 0; text-align: left; }
.daily-appointment-item .appointment-info-group { flex-grow: 1; margin: 0 0.5rem; display: flex; flex-direction: column; overflow: hidden; gap: 0; }
.daily-appointment-item .appointment-service { font-size: 0.85rem; font-weight: 500; color: var(--dark-text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.3; }
.daily-appointment-item .appointment-customer { font-size: 0.75rem; color: var(--medium-grey-text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.3; }
.appointment-status-tag { padding: 0.2em 0.6em; border-radius: var(--border-radius-round, 10px); font-size: 0.65rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.04em; white-space: nowrap; flex-shrink: 0; border: 1px solid transparent; min-width: 55px; text-align: center; line-height: 1.2; }
.appointment-status-tag.status-heute { background-color: var(--info-bg-light, #cce5ff); color: var(--info-color, #004085); border-color: var(--info-color, #004085); }
.appointment-status-tag.status-morgen { background-color: var(--success-bg-light, #e2f0e6); color: var(--success-color, #28a745); border-color: var(--success-color, #28a745); }
.appointment-status-tag.status-datum { background-color: var(--light-grey-bg, #f8f8f8); color: var(--medium-grey-text, #5f5f5f); border-color: var(--border-color, #e7e7e7); }
.no-upcoming-appointments { text-align: center; padding: 1.25rem 1rem; color: var(--medium-grey-text); font-size: 0.85rem; border: 1px dashed var(--border-color); border-radius: var(--border-radius-lg, 12px); margin-top: 1.25rem; }


/* --- Responsive Anpassungen für Filterleiste und kleinere Bildschirme --- */
@media (max-width: 767px) {
    .stats-overview-cards.primary-kpis { grid-template-columns: 1fr; }
    .stats-overview-cards.secondary-kpis { grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); }
    .stat-card { padding: 0.75rem; min-height: 90px;}
    .stat-card.main-kpi { min-height: 110px; }
    .stat-card.main-kpi .stat-value { font-size: 1.6rem; }

    .stat-value { font-size: 1.4rem; }
    .stat-label { font-size: 0.65rem; }
    .stat-icon { width: 22px; height: 22px; font-size: 0.9rem; }
    .charts-grid { grid-template-columns: 1fr; }
    .chart-card { min-height: 220px; padding: 1rem;}
    .daily-appointments-section { padding: 1rem; }
    .daily-appointments-heading { font-size: 1.15rem; }
    .daily-appointment-item { flex-direction: column; align-items: flex-start; gap: 0.3rem; }
    .daily-appointment-item .appointment-time { font-size: 0.9rem; min-width: auto; margin-bottom: 0.2rem; }
    .daily-appointment-item .appointment-info-group { margin: 0; width: 100%; }
    .appointment-status-tag { margin-top: 0.4rem; align-self: flex-start; width: auto; padding: 0.2em 0.5em; }


    .stats-period-filter-bar { flex-direction: column; align-items: stretch; }
    .period-buttons { justify-content: center; }
    .custom-date-pickers { margin-left: 0; width: 100%; justify-content: space-between; }
    .custom-date-pickers .date-picker-input { max-width: none; flex-grow: 1; }
    .custom-date-pickers .apply-custom-date { flex-grow: 1; max-width: 120px; }
}

@media (max-width: 480px) {
    .period-buttons button { flex-grow: 1; font-size: 0.75rem; padding: 0.4rem 0.6rem; }
    .custom-date-pickers { flex-direction: column; align-items: stretch; }
    .custom-date-pickers .apply-custom-date { max-width: none; margin-top: 0.5rem; }
}

